(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["wall"],{2768:function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("EnTeteProfil"),s("BodyProfil")],1)},a=[],n=s("5530"),l=s("2f62"),i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"hello container ml-auto mr-auto mt-5"},[s("h1",{staticClass:"bg-blue rounded-pill text-center p-3 text-secondary"},[e._v(" Ton Profil "+e._s(e.User.username)+" ")])])},d=[],r={name:"EnTeteProfil",computed:Object(n["a"])({},Object(l["b"])(["User"]))},c=r,u=s("2877"),p=Object(u["a"])(c,i,d,!1,null,null,null),m=p.exports,g=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"jumbotron container h-100 ml-auto mr-auto mt-5 shadow-box"},[s("ChangeMdp",{attrs:{revele:e.revele,toggleModale:e.toggleModale}}),s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-4 bg-light shadow-box d-flex flex-column p-3 m-3"},[s("h2",{staticClass:"bg-dark rounded shadow-box text-center p-2 text-secondary"},[e._v(" Ton profil ")]),s("div",{staticClass:"p-2 m-2"},[s("p",[e._v("Ton Compte : "+e._s(e.User.username))])]),s("div",{staticClass:"p-2 m-2"},[s("p",[e._v("Ton email : "+e._s(e.User.email))])]),s("div",{staticClass:"p-2 m-2 btn btn-primary w-50",attrs:{type:"button",id:"change"},on:{click:e.toggleModale}},[e._v(" Changement Mot de passe ")]),s("button",{staticClass:"p-2 m-2 btn btn-danger w-50",attrs:{type:"button"},on:{click:e.deleteAccount}},[e._v(" Supprimer le profil ")])]),s("div",{staticClass:"col-lg-7 bg-light shadow-box d-flex flex-column p-3 m-3 justify-content-between"},[s("h2",{staticClass:"bg-dark rounded shadow-box text-center p-2 text-secondary"},[e._v(" Tes messages ")]),s("div",{staticClass:"jumbotron d-flex flex-column p-1 m-2 shadow-box"},e._l(e.allPostsUser,(function(t){return s("MesMessages",{key:t.id,staticClass:"p-2",attrs:{post:t},on:{reload:e.reload,deletePost:e.deletePost}})})),1)])])],1)},w=[],f=(s("5319"),s("ac1f"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("ModaleModify",{directives:[{name:"show",rawName:"v-show",value:e.showModaleModify,expression:"showModaleModify"}],key:e.modifPost.id,attrs:{modifPost:e.modifPost},on:{ModaleModify:e.ModaleModify}}),s("div",{staticClass:"bg-light rounded shadow-box p-3 d-flex flex-column justify-content-between"},[s("div",{staticClass:"jumbotron rounded shadow-box p-2"},[s("p",[e._v(e._s(e.post.titre))])]),s("div",{},[s("figure",{},[s("img",{staticClass:"w-50 rounded float-left m-2",attrs:{src:e.post.attachement,alt:e.post.titre}})]),s("figcaption",[s("p",{staticClass:"text-justify  "},[e._v(e._s(e.post.message))])])]),s("div",{staticClass:"d-flex justify-content-end"},[s("button",{staticClass:"btn btn-primary m-2",attrs:{post:e.post},on:{click:function(t){e.showModaleModify=!e.showModaleModify}}},[s("i",{staticClass:"fas fa-comment-dots"},[s("p",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[e._v(" Modifier")])])]),s("button",{staticClass:"btn btn-primary m-2",on:{click:e.updateDeletePost}},[s("i",{staticClass:"fas fa-ban"},[s("p",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false "}]},[e._v("Delete ")])])])])])],1)}),h=[],v=s("e0cc"),b={name:"MesMessages",components:{ModaleModify:v["a"]},props:{post:{type:Object,message:String,titre:String}},data:function(){return{showModaleModify:!1,modifPost:this.post}},computed:Object(n["a"])({},Object(l["b"])(["User"])),methods:{updateDeletePost:function(){var e=this.post.uuidPost;console.log("test dans updateDeletePost : "+e),this.$emit("deletePost",e)},ModaleModify:function(e){var t=!0;console.log("je suis dans modaleModify"),this.showModaleModify=e,this.$emit("reload",t)}}},P=b,M=Object(u["a"])(P,f,h,!1,null,null,null),C=M.exports,x=s("7338"),y=s.n(x),_=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.revele?s("div",{staticClass:"bloc-modale"},[s("div",{staticClass:"overlay",on:{click:e.toggleModale}}),s("div",{staticClass:"modale card"},[s("div",{staticClass:"btn-modale btn btn-danger",on:{click:e.toggleModale}},[e._v("X")]),s("form",[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"InputNewPassword"}},[e._v("Entrez un nouveau password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.changePwd.newPassword,expression:"changePwd.newPassword"}],staticClass:"form-control",attrs:{type:"password",id:"InputNewPassword"},domProps:{value:e.changePwd.newPassword},on:{input:function(t){t.target.composing||e.$set(e.changePwd,"newPassword",t.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"RepeatInputNewPassword"}},[e._v("Répétez votre nouveau password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.changePwd.RepeatNewPassword,expression:"changePwd.RepeatNewPassword"}],staticClass:"form-control",attrs:{type:"password",id:"RepeatInputNewPassword"},domProps:{value:e.changePwd.RepeatNewPassword},on:{input:function(t){t.target.composing||e.$set(e.changePwd,"RepeatNewPassword",t.target.value)}}})]),s("button",{staticClass:"p-2 m-2 btn btn-success w-50",attrs:{type:"button"},on:{click:e.changePassword}},[e._v(" Valider ")])])])]):e._e()},j=[],O={name:"ChangeMdp",props:["revele","toggleModale"],data:function(){return{changePwd:{newPassword:null,ReapeatNewPassword:null}}},computed:Object(n["a"])({},Object(l["b"])(["User"])),methods:{test:function(){console.log("test")},changePassword:function(){var e=this;if(console.log("Bien dans la fonction changePassword"),this.changePwd.newPassword==this.changePwd.RepeatNewPassword&&""!=this.changePwd.newPassword&&""!=this.changePwd.RepeatNewPassword){var t=localStorage.getItem("uuid");console.log(this.changePwd.newPassword),y.a.put("http://localhost:3000/api/auth/update/"+t,{newPassword:this.changePwd.newPassword}).then((function(t){console.log("pwd change",t),e.revele=!1})).catch((function(e){console.log("admin",e)}))}else document.getElementById("retour-api").classList.add("text-danger")}}},N=O,U=Object(u["a"])(N,_,j,!1,null,null,null),k=U.exports,I={name:"BodyProfil",data:function(){return{revele:!1,post:{uuid:"",message:"",titre:""},allPostsUser:[]}},components:{MesMessages:C,ChangeMdp:k},computed:Object(n["a"])({},Object(l["b"])(["User"])),methods:{profil:function(){var e=this,t=localStorage.getItem("uuid");y.a.get("http://localhost:3000/api/post/mesMessages/"+t).then((function(t){e.allPostsUser=t.data.post,console.log(t)})).catch((function(e){console.log(e)}))},toggleModale:function(){console.log("dans le fonction toggleModale"),this.revele=!this.revele,console.log(this.revele)},reload:function(e){this.profil(),console.log("test si reload est bien ici !  "+e)},deleteAccount:function(){var e=localStorage.getItem("uuid"),t={deleteUserUuid:e,userIsAdmin:this.User.isAdmin};console.log(t.deleteUserUuid+"  dataDelete Existe  "+t.userIsAdmin),y.a.delete("http://localhost:3000/api/auth/delete/"+e,{data:t}).then((function(){localStorage.clear(),location.replace("/signup")})).catch((function(e){return console.log(e)}))},deletePost:function(e){var t=this;console.log("test : "+e);var s=localStorage.getItem("uuid");console.log("le post uuid : "+e+" l'user uuid"+s),y.a.delete("http://localhost:3000/api/post/delete/"+s,{data:{uuidPost:e,userIdOrder:s}}).then((function(){t.profil()})).catch((function(e){return console.log(e)}))}},mounted:function(){this.profil()}},E=I,R=Object(u["a"])(E,g,w,!1,null,null,null),$=R.exports,S={name:"Profil",components:{EnTeteProfil:m,BodyProfil:$},computed:Object(n["a"])({},Object(l["b"])(["User"]))},T=S,A=Object(u["a"])(T,o,a,!1,null,null,null);t["default"]=A.exports}}]);
//# sourceMappingURL=wall.dab924e1.js.map